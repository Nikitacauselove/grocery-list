DROP TABLE IF EXISTS shopping_lists;
DROP TABLE IF EXISTS grocery_items;
DROP TABLE IF EXISTS users;

CREATE TABLE IF NOT EXISTS users (
    PRIMARY KEY (id),
    id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name    VARCHAR(255)                            NOT NULL,
    surname VARCHAR(255)                            NOT NULL
);

CREATE TABLE IF NOT EXISTS grocery_items (
    PRIMARY KEY (id),
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 7) NOT NULL,
    name VARCHAR(255)                                           NOT NULL,
         UNIQUE (name)
);

CREATE TABLE IF NOT EXISTS shopping_lists (
    PRIMARY KEY (id),
    id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    user_id BIGINT                                  NOT NULL,
    items   VARCHAR(255)                            NOT NULL,
            FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);